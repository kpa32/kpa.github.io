import{_ as s,o as a,c as e,a6 as i}from"./chunks/framework.DnJfIKBR.js";const u=JSON.parse('{"title":"Lsposed编译指南","description":"","frontmatter":{"title":"Lsposed编译指南","layout":"doc"},"headers":[],"relativePath":"post/Android/Lsposed编译指南.md","filePath":"post/Android/Lsposed编译指南.md","lastUpdated":1714712829000}'),t={name:"post/Android/Lsposed编译指南.md"},l=i(`<h1 id="lsposed编译指南" tabindex="-1">Lsposed编译指南 <a class="header-anchor" href="#lsposed编译指南" aria-label="Permalink to &quot;Lsposed编译指南&quot;">​</a></h1><h3 id="环境配置" tabindex="-1">环境配置 <a class="header-anchor" href="#环境配置" aria-label="Permalink to &quot;环境配置&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">提示</p><p>笔者使用的windows开发环境 如果使用Android Studio 请保持最新更新</p></div><ul><li>下载最新编译工具&amp;配置环境变量</li><li><a href="https://gradle.org/" target="_blank" rel="noreferrer">Gradle 8.7+</a></li><li><a href="https://cmake.org/download/" target="_blank" rel="noreferrer">Cmake 3.22.1+</a></li><li><a href="https://github.com/ninja-build/ninja/releases" target="_blank" rel="noreferrer">Ninja 1.12.0+</a></li><li>JDK版本 17</li><li>ninja 安装到cmake目录</li><li><blockquote><p>笔者的目录 D:\\Program Files\\CMake\\bin\\ninja.exe</p></blockquote></li></ul><h3 id="下载lsposed-源码" tabindex="-1">下载Lsposed 源码 <a class="header-anchor" href="#下载lsposed-源码" aria-label="Permalink to &quot;下载Lsposed 源码&quot;">​</a></h3><p><a href="https://github.com/LSPosed/LSPosed" target="_blank" rel="noreferrer">Lsposed GitHub Page</a></p><blockquote><p>保持网络链接通畅,子项目如果clone失败会影响后续clone 可以使用国内源,或者查看 .gitmodules 文件git submodule add [url] [path] 手动添加</p></blockquote><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v1.9.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/LSPosed/LSPosed.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LSPosed</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#一定要进入到目标目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> submodule</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> submodule</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sync</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> submodule</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --init</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remote</span></span></code></pre></div><h3 id="编译" tabindex="-1">编译 <a class="header-anchor" href="#编译" aria-label="Permalink to &quot;编译&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./LSPosed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gradlew.bat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>如果出现错误,复制错误信息交给chatgpt分析 github上有许多免费chatgpt <a href="https://github.com/LiLittleCat/awesome-free-chatgpt" target="_blank" rel="noreferrer">awesome-free-chatgpt</a></p></div><blockquote><p>JDK版本不匹配 gradle.properties中指定JDK版本</p></blockquote><div class="language-gradle.properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gradle.properties</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>org.gradle.java.home = D:\\\\Program Files\\\\Java\\\\jdk-17</span></span>
<span class="line"><span>#或者临时指定</span></span>
<span class="line"><span>set JAVA_HOME=D:\\\\Program Files\\\\Java\\\\jdk-17</span></span></code></pre></div><blockquote><p>Could not determine the dependencies of task &#39;:core:minifyReleaseWithR8&#39;. Cannot query the value of this property because it has no value available. isMinifyEnabled = false 关闭了缩减、混淆处理和优化应用选项 这里尝试了很多次,未能成功解决问题,有可能和我的开发环境有关系</p></blockquote><h4 id="出错后-执行-gradlew-clean-重新编译" tabindex="-1">出错后 执行 ./gradlew clean 重新编译 <a class="header-anchor" href="#出错后-执行-gradlew-clean-重新编译" aria-label="Permalink to &quot;出错后 执行 ./gradlew clean 重新编译&quot;">​</a></h4>`,15),n=[l];function p(o,h,r,d,k,c){return a(),e("div",null,n)}const F=s(t,[["render",p]]);export{u as __pageData,F as default};
