import{_ as s,o as a,c as i,a6 as n}from"./chunks/framework.DnJfIKBR.js";const g=JSON.parse('{"title":"app_process启动自定义app-jar","description":"","frontmatter":{"title":"app_process启动自定义app-jar","layout":"doc"},"headers":[],"relativePath":"post/Android/app_process启动自定义app-jar.md","filePath":"post/Android/app_process启动自定义app-jar.md","lastUpdated":1715348268000}'),p={name:"post/Android/app_process启动自定义app-jar.md"},l=n(`<p>android手机通过命令行方式启动自己的程序</p><h2 id="_1-从dex中启动" tabindex="-1">1.从dex中启动 <a class="header-anchor" href="#_1-从dex中启动" aria-label="Permalink to &quot;1.从dex中启动&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#编译成class文件 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com/kpa/demo/Hello.java</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#把服务打包成jar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -cvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SayHello.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com/kpa/services/SayHello.class</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#查看jar包内容 检查是否正常</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -tf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SayHello.jar</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#把class编译成dex</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PATH=D:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">rogramData</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ndroidSDK</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">uild-tools</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">4.0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%PATH%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">d8.bat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output=.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\k</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">emo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.class</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#复制到手机中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> classes.dex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sdcard/work/classes.dex</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#执行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sdcard/work</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app_process</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Djava.class.path=/sdcard/work/classes.dex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sdcard/work</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.kpa.demo.Hello</span></span></code></pre></div><h2 id="_2-从apk中启动" tabindex="-1">2.从APK中启动 <a class="header-anchor" href="#_2-从apk中启动" aria-label="Permalink to &quot;2.从APK中启动&quot;">​</a></h2><p>apk里写个main方法 安装到手机</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CLASSPATH=/data/app/com.example.helloworld-2.apk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app_process</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /system/bin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.example.helloworld</span></span></code></pre></div>`,6),h=[l];function t(e,k,d,r,F,c){return a(),i("div",null,h)}const C=s(p,[["render",t]]);export{g as __pageData,C as default};
