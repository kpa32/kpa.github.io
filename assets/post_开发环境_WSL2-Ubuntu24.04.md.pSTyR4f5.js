import{_ as s,o as a,c as i,a6 as n}from"./chunks/framework.DnJfIKBR.js";const t="/assets/image-1.B6Ld9WCm.png",e="/assets/image.etIxz8RS.png",w=JSON.parse('{"title":"WSL2-Ubuntu24.04-代理设置","description":"","frontmatter":{"title":"WSL2-Ubuntu24.04-代理设置","layout":"doc"},"headers":[],"relativePath":"post/开发环境/WSL2-Ubuntu24.04.md","filePath":"post/开发环境/WSL2-Ubuntu24.04.md","lastUpdated":1714832196000}'),l={name:"post/开发环境/WSL2-Ubuntu24.04.md"},p=n(`<h2 id="配置root-用户" tabindex="-1">配置ROOT 用户 <a class="header-anchor" href="#配置root-用户" aria-label="Permalink to &quot;配置ROOT 用户&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#配置root密码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> passwd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#切换用户</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span></span></code></pre></div><p><img src="`+t+'" alt="Alt text"></p><h2 id="更新系统" tabindex="-1">更新系统 <a class="header-anchor" href="#更新系统" aria-label="Permalink to &quot;更新系统&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><h2 id="安装docker" tabindex="-1">安装Docker <a class="header-anchor" href="#安装docker" aria-label="Permalink to &quot;安装Docker&quot;">​</a></h2><p><a href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-containers" target="_blank" rel="noreferrer">https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-containers</a></p><p><strong>需要开启 Hyper-V</strong></p><h2 id="文件和windows相互拷贝" tabindex="-1">文件和windows相互拷贝 <a class="header-anchor" href="#文件和windows相互拷贝" aria-label="Permalink to &quot;文件和windows相互拷贝&quot;">​</a></h2><p>Window to Linux 在网络测可以看到 <img src="'+e+`" alt="Alt text"></p><p>Linux到Windows</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 直接切换到windows 用户目录下</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/c/Users</span></span></code></pre></div><h2 id="代理设置" tabindex="-1">代理设置 <a class="header-anchor" href="#代理设置" aria-label="Permalink to &quot;代理设置&quot;">​</a></h2><h3 id="方案1" tabindex="-1">方案1 <a class="header-anchor" href="#方案1" aria-label="Permalink to &quot;方案1&quot;">​</a></h3><p>需要Windows 11 (本人win10 改用下面方案) <br> 在本机Windows用户目录下 新建配置文件 C:\\Users&lt;UserName&gt;.wslconfig</p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>配置全局设置.wslconfig仅适用于在 Windows Build 19041 及更高版本中作为 WSL 2 运行的发行版。请记住，您可能需要运行wsl --shutdown来关闭 WSL 2 VM，然后重新启动 WSL 实例才能使这些更改生效。</p></div><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[wsl2]</span></span>
<span class="line"><span>nestedVirtualization=true</span></span>
<span class="line"><span>ipv6=true</span></span>
<span class="line"><span>[experimental]</span></span>
<span class="line"><span>autoMemoryReclaim=gradual # gradual | dropcache | disabled</span></span>
<span class="line"><span>networkingMode=mirrored</span></span>
<span class="line"><span>dnsTunneling=true</span></span>
<span class="line"><span>firewall=true</span></span>
<span class="line"><span>autoProxy=true</span></span></code></pre></div><h3 id="方案2" tabindex="-1">方案2 <a class="header-anchor" href="#方案2" aria-label="Permalink to &quot;方案2&quot;">​</a></h3><p>直接配置代理脚本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ALL_PROXY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://192.168.2.12:7890&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#测试下</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://www.google.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 取消代理</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ALL_PROXY</span></span></code></pre></div><p>参考</p><ul><li><a href="https://learn.microsoft.com/en-us/windows/wsl/wsl-config#wslconfig" target="_blank" rel="noreferrer">https://learn.microsoft.com/en-us/windows/wsl/wsl-config#wslconfig</a></li></ul><p>-<a href="https://learn.microsoft.com/en-us/windows/wsl/wsl-config#configuration-settings-for-wslconfig" target="_blank" rel="noreferrer">https://learn.microsoft.com/en-us/windows/wsl/wsl-config#configuration-settings-for-wslconfig</a> -<a href="https://zhuanlan.zhihu.com/p/153124468" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/153124468</a></p>`,23),h=[p];function o(r,c,d,k,u,g){return a(),i("div",null,h)}const F=s(l,[["render",o]]);export{w as __pageData,F as default};
